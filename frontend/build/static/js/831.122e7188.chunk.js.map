<<<<<<< Updated upstream
{"version":3,"file":"static/js/831.122e7188.chunk.js","mappings":"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","sources":["pages/Admin.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { adminAPI, categoryAPI, authAPI } from '../services/api'\nimport { API_BASE_URL } from '../config/api'\nimport './Admin.css'\n\nfunction Admin() {\n  const navigate = useNavigate()\n  const [blogs, setBlogs] = useState([])\n  const [categories, setCategories] = useState([])\n  const [editingBlog, setEditingBlog] = useState(null)\n  const [editingCategory, setEditingCategory] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [submitting, setSubmitting] = useState(false)\n  const [submittingCategory, setSubmittingCategory] = useState(false)\n  const [uploading, setUploading] = useState({ image: false, featured: false })\n  const [error, setError] = useState(null)\n  const [success, setSuccess] = useState(null)\n  const [username, setUsername] = useState('')\n  const [categoryFormData, setCategoryFormData] = useState({\n    name: '',\n    slug: '',\n    icon: '',\n    description: '',\n    display_order: 0,\n    is_active: true\n  })\n  const [formData, setFormData] = useState({\n    title: '',\n    slug: '',\n    content: '',\n    excerpt: '',\n    category_id: '',\n    image_url: '',\n    featured_image: '',\n    is_featured: false,\n    is_published: false,\n    meta_title: '',\n    meta_description: '',\n    meta_keywords: ''\n  })\n  const [imagePreview, setImagePreview] = useState({ image: null, featured: null })\n\n  useEffect(() => {\n    document.title = 'Admin Panel - Blog Management'\n    const storedUsername = localStorage.getItem('admin_username')\n    if (storedUsername) {\n      setUsername(storedUsername)\n    }\n    fetchBlogs()\n    fetchCategories()\n  }, [])\n\n  const handleLogout = async () => {\n    if (window.confirm('Are you sure you want to logout?')) {\n      try {\n        await authAPI.logout()\n        navigate('/vedantlights/login')\n      } catch (err) {\n        // Even if logout fails, clear local storage and redirect\n        localStorage.removeItem('admin_authenticated')\n        localStorage.removeItem('admin_username')\n        navigate('/vedantlights/login')\n      }\n    }\n  }\n\n\n  const fetchBlogs = async () => {\n    try {\n      setLoading(true)\n      const response = await adminAPI.blogs.getAll()\n      if (response.success) {\n        setBlogs(response.data || [])\n      }\n    } catch (err) {\n      console.error('Error fetching blogs:', err)\n      setError(err.message || 'Failed to load blogs')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const fetchCategories = async () => {\n    try {\n      const response = await adminAPI.categories.getAll()\n      if (response.success) {\n        setCategories(response.data || [])\n      }\n    } catch (err) {\n      console.error('Error fetching categories:', err)\n    }\n  }\n\n  // Generate slug from title\n  const generateSlug = (title) => {\n    return title\n      .toLowerCase()\n      .trim()\n      .replace(/[^\\w\\s-]/g, '')\n      .replace(/[\\s_-]+/g, '-')\n      .replace(/^-+|-+$/g, '')\n  }\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target\n    setFormData({\n      ...formData,\n      [name]: type === 'checkbox' ? checked : value\n    })\n    \n    // Auto-generate slug from title\n    if (name === 'title' && !editingBlog) {\n      setFormData(prev => ({\n        ...prev,\n        slug: generateSlug(value)\n      }))\n    }\n    \n    // Clear messages\n    if (error) setError(null)\n    if (success) setSuccess(null)\n  }\n\n  const handleImageUpload = async (e, type = 'image') => {\n    const file = e.target.files[0]\n    if (!file) return\n\n    // Validate file type\n    if (!file.type.match('image.*')) {\n      setError('Please select an image file')\n      return\n    }\n\n    // Validate file size (5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      setError('Image size must be less than 5MB')\n      return\n    }\n\n    try {\n      setUploading(prev => ({ ...prev, [type]: true }))\n      setError(null)\n\n      // Create preview\n      const reader = new FileReader()\n      reader.onloadend = () => {\n        setImagePreview(prev => ({ ...prev, [type]: reader.result }))\n      }\n      reader.readAsDataURL(file)\n\n      // Upload file\n      const response = await adminAPI.upload.image(file)\n      \n      if (response.success && response.data && response.data.url) {\n        const fieldName = type === 'image' ? 'image_url' : 'featured_image'\n        setFormData(prev => ({\n          ...prev,\n          [fieldName]: response.data.url\n        }))\n        setSuccess(`${type === 'image' ? 'Image' : 'Featured image'} uploaded successfully!`)\n        setTimeout(() => setSuccess(null), 3000)\n      } else {\n        // Clear preview on failure\n        setImagePreview(prev => ({ ...prev, [type]: null }))\n        setError(response.message || 'Failed to upload image. Please try again or enter a URL manually.')\n      }\n    } catch (err) {\n      console.error('Error uploading image:', err)\n      // Clear preview on error\n      setImagePreview(prev => ({ ...prev, [type]: null }))\n      setError(err.message || 'Failed to upload image. Please try again or enter a URL manually.')\n    } finally {\n      setUploading(prev => ({ ...prev, [type]: false }))\n    }\n  }\n\n  const getImageUrl = (url) => {\n    if (!url) return null\n    // If it's already a full URL, return as is\n    if (url.startsWith('http://') || url.startsWith('https://')) {\n      return url\n    }\n    // If it's a relative path starting with /backend, construct full URL\n    if (url.startsWith('/backend/')) {\n      // Extract base URL from API_BASE_URL (e.g., https://blogs.360coordinates.com)\n      const baseUrl = API_BASE_URL.replace('/backend/api', '')\n      return baseUrl + url\n    }\n    // If it's a relative path starting with /, prepend base URL\n    if (url.startsWith('/')) {\n      const baseUrl = API_BASE_URL.replace('/api', '')\n      return baseUrl + url\n    }\n    // If it's a relative path without leading slash, add it\n    if (url.includes('uploads/')) {\n      const baseUrl = API_BASE_URL.replace('/api', '')\n      return baseUrl + '/' + url\n    }\n    return url\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setSubmitting(true)\n    setError(null)\n    setSuccess(null)\n\n    try {\n      let response\n      if (editingBlog) {\n        // Update existing blog\n        response = await adminAPI.blogs.update(editingBlog.id, formData)\n      } else {\n        // Create new blog\n        response = await adminAPI.blogs.create(formData)\n      }\n\n      if (response.success) {\n        setSuccess(editingBlog ? 'Blog updated successfully!' : 'Blog created successfully!')\n        resetForm()\n        fetchBlogs() // Refresh list\n        setTimeout(() => setSuccess(null), 3000)\n      } else {\n        setError(response.message || 'Operation failed')\n      }\n    } catch (err) {\n      console.error('Error saving blog:', err)\n      setError(err.message || 'Failed to save blog')\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  const handleEdit = (blog) => {\n    setEditingBlog(blog)\n    setFormData({\n      title: blog.title || '',\n      slug: blog.slug || '',\n      content: blog.content || '',\n      excerpt: blog.excerpt || '',\n      category_id: blog.category_id || '',\n      image_url: blog.image_url || '',\n      featured_image: blog.featured_image || '',\n      is_featured: blog.is_featured || false,\n      is_published: blog.is_published || false,\n      meta_title: blog.meta_title || '',\n      meta_description: blog.meta_description || '',\n      meta_keywords: blog.meta_keywords || ''\n    })\n    // Set preview images - ensure URLs are properly formatted\n    const imageUrl = blog.image_url ? getImageUrl(blog.image_url) : null\n    const featuredUrl = blog.featured_image ? getImageUrl(blog.featured_image) : null\n    \n    // Set preview immediately\n    setImagePreview({\n      image: imageUrl,\n      featured: featuredUrl\n    })\n    window.scrollTo({ top: 0, behavior: 'smooth' })\n  }\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this blog?')) {\n      return\n    }\n\n    try {\n      const response = await adminAPI.blogs.delete(id)\n      if (response.success) {\n        setSuccess('Blog deleted successfully!')\n        if (editingBlog && editingBlog.id === id) {\n          resetForm()\n        }\n        fetchBlogs() // Refresh list\n        setTimeout(() => setSuccess(null), 3000)\n      } else {\n        setError(response.message || 'Failed to delete blog')\n      }\n    } catch (err) {\n      console.error('Error deleting blog:', err)\n      setError(err.message || 'Failed to delete blog')\n    }\n  }\n\n  const resetForm = () => {\n    setEditingBlog(null)\n    setFormData({\n      title: '',\n      slug: '',\n      content: '',\n      excerpt: '',\n      category_id: '',\n      image_url: '',\n      featured_image: '',\n      is_featured: false,\n      is_published: false,\n      meta_title: '',\n      meta_description: '',\n      meta_keywords: ''\n    })\n    setImagePreview({ image: null, featured: null })\n  }\n\n  const handleCategoryInputChange = (e) => {\n    const { name, value, type, checked } = e.target\n    setCategoryFormData({\n      ...categoryFormData,\n      [name]: type === 'checkbox' ? checked : value\n    })\n    \n    // Auto-generate slug from name\n    if (name === 'name' && !editingCategory) {\n      setCategoryFormData(prev => ({\n        ...prev,\n        slug: generateSlug(value)\n      }))\n    }\n    \n    // Clear messages\n    if (error) setError(null)\n    if (success) setSuccess(null)\n  }\n\n  const handleCategorySubmit = async (e) => {\n    e.preventDefault()\n    setSubmittingCategory(true)\n    setError(null)\n    setSuccess(null)\n\n    try {\n      let response\n      if (editingCategory) {\n        response = await adminAPI.categories.update(editingCategory.id, categoryFormData)\n      } else {\n        response = await adminAPI.categories.create(categoryFormData)\n      }\n\n      if (response.success) {\n        setSuccess(editingCategory ? 'Category updated successfully!' : 'Category created successfully!')\n        resetCategoryForm()\n        fetchCategories() // Refresh list\n        setTimeout(() => setSuccess(null), 3000)\n      } else {\n        setError(response.message || 'Operation failed')\n      }\n    } catch (err) {\n      console.error('Error saving category:', err)\n      setError(err.message || 'Failed to save category')\n    } finally {\n      setSubmittingCategory(false)\n    }\n  }\n\n  const handleCategoryEdit = (category) => {\n    setEditingCategory(category)\n    setCategoryFormData({\n      name: category.name || '',\n      slug: category.slug || '',\n      icon: category.icon || '',\n      description: category.description || '',\n      display_order: category.display_order || 0,\n      is_active: category.is_active !== undefined ? category.is_active : true\n    })\n    window.scrollTo({ top: 0, behavior: 'smooth' })\n  }\n\n  const handleCategoryDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this category?')) {\n      return\n    }\n\n    try {\n      const response = await adminAPI.categories.delete(id)\n      if (response.success) {\n        setSuccess('Category deleted successfully!')\n        if (editingCategory && editingCategory.id === id) {\n          resetCategoryForm()\n        }\n        fetchCategories() // Refresh list\n        setTimeout(() => setSuccess(null), 3000)\n      } else {\n        setError(response.message || 'Failed to delete category')\n      }\n    } catch (err) {\n      console.error('Error deleting category:', err)\n      setError(err.message || 'Failed to delete category')\n    }\n  }\n\n  const resetCategoryForm = () => {\n    setEditingCategory(null)\n    setCategoryFormData({\n      name: '',\n      slug: '',\n      icon: '',\n      description: '',\n      display_order: 0,\n      is_active: true\n    })\n  }\n\n  return (\n    <div className=\"admin-container\">\n      <div className=\"admin-header\">\n        <div>\n          <h1 className=\"admin-title\">Blog Management Panel</h1>\n          <p className=\"admin-subtitle\">Create, edit, and manage your blog posts</p>\n        </div>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n          {username && (\n            <span style={{ color: '#666', fontSize: '0.9rem' }}>\n              Welcome, <strong>{username}</strong>\n            </span>\n          )}\n          <button \n            onClick={handleLogout}\n            style={{\n              padding: '0.5rem 1rem',\n              background: '#dc3545',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              fontSize: '0.9rem'\n            }}\n          >\n            Logout\n          </button>\n        </div>\n      </div>\n\n      <div className=\"admin-content\">\n        {/* Blog Form Section */}\n        <section className=\"admin-form-section\">\n          <div className=\"admin-form-panel\">\n            <h2 className=\"admin-form-title\">\n              {editingBlog ? 'Edit Blog Post' : 'Create New Blog Post'}\n            </h2>\n            \n            {success && (\n              <div style={{ padding: '0.75rem', marginBottom: '1rem', backgroundColor: '#d4edda', color: '#155724', borderRadius: '4px' }}>\n                {success}\n              </div>\n            )}\n            \n            {error && (\n              <div style={{ padding: '0.75rem', marginBottom: '1rem', backgroundColor: '#f8d7da', color: '#721c24', borderRadius: '4px' }}>\n                {error}\n              </div>\n            )}\n            \n            <form className=\"admin-form\" onSubmit={handleSubmit}>\n              <div className=\"form-group\">\n                <label htmlFor=\"title\" className=\"form-label\">Title *</label>\n                <input\n                  type=\"text\"\n                  id=\"title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleInputChange}\n                  className=\"form-input\"\n                  placeholder=\"Enter blog title\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"slug\" className=\"form-label\">Slug *</label>\n                <input\n                  type=\"text\"\n                  id=\"slug\"\n                  name=\"slug\"\n                  value={formData.slug}\n                  onChange={handleInputChange}\n                  className=\"form-input\"\n                  placeholder=\"blog-slug-url\"\n                  required\n                />\n                <small style={{ color: '#666', fontSize: '0.875rem' }}>URL-friendly version of title</small>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"content\" className=\"form-label\">Content *</label>\n                <textarea\n                  id=\"content\"\n                  name=\"content\"\n                  value={formData.content}\n                  onChange={handleInputChange}\n                  className=\"form-textarea\"\n                  placeholder=\"Enter blog content\"\n                  rows=\"8\"\n                  required\n                ></textarea>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"excerpt\" className=\"form-label\">Excerpt</label>\n                <textarea\n                  id=\"excerpt\"\n                  name=\"excerpt\"\n                  value={formData.excerpt}\n                  onChange={handleInputChange}\n                  className=\"form-textarea\"\n                  placeholder=\"Short description (used in listings)\"\n                  rows=\"3\"\n                ></textarea>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"category_id\" className=\"form-label\">Category</label>\n                <select\n                  id=\"category_id\"\n                  name=\"category_id\"\n                  value={formData.category_id}\n                  onChange={handleInputChange}\n                  className=\"form-select\"\n                >\n                  <option value=\"\">Select Category</option>\n                  {categories.map(cat => (\n                    <option key={cat.id} value={cat.id}>{cat.name}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"image_upload\" className=\"form-label\">Blog Image</label>\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                  <input\n                    type=\"file\"\n                    id=\"image_upload\"\n                    accept=\"image/*\"\n                    onChange={(e) => handleImageUpload(e, 'image')}\n                    disabled={uploading.image}\n                    style={{ marginBottom: '0.5rem' }}\n                  />\n                  {uploading.image && <small>Uploading...</small>}\n                  {(() => {\n                    const previewUrl = imagePreview.image || (formData.image_url ? getImageUrl(formData.image_url) : null)\n                    return previewUrl && (\n                      <div style={{ marginTop: '0.5rem' }}>\n                        <img \n                          src={previewUrl} \n                          alt=\"Preview\" \n                          style={{ maxWidth: '300px', maxHeight: '200px', objectFit: 'cover', borderRadius: '4px', border: '1px solid #ddd' }}\n                          onError={(e) => {\n                            console.error('Image failed to load:', e.target.src)\n                            e.target.style.display = 'none'\n                          }}\n                        />\n                      </div>\n                    )\n                  })()}\n                  <input\n                    type=\"text\"\n                    id=\"image_url\"\n                    name=\"image_url\"\n                    value={formData.image_url}\n                    onChange={handleInputChange}\n                    className=\"form-input\"\n                    placeholder=\"Or enter image URL (optional)\"\n                    style={{ marginTop: '0.5rem' }}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"featured_image_upload\" className=\"form-label\">Featured Image</label>\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\n                  <input\n                    type=\"file\"\n                    id=\"featured_image_upload\"\n                    accept=\"image/*\"\n                    onChange={(e) => handleImageUpload(e, 'featured')}\n                    disabled={uploading.featured}\n                    style={{ marginBottom: '0.5rem' }}\n                  />\n                  {uploading.featured && <small>Uploading...</small>}\n                  {(() => {\n                    const previewUrl = imagePreview.featured || (formData.featured_image ? getImageUrl(formData.featured_image) : null)\n                    return previewUrl && (\n                      <div style={{ marginTop: '0.5rem' }}>\n                        <img \n                          src={previewUrl} \n                          alt=\"Preview\" \n                          style={{ maxWidth: '300px', maxHeight: '200px', objectFit: 'cover', borderRadius: '4px', border: '1px solid #ddd' }}\n                          onError={(e) => {\n                            console.error('Featured image failed to load:', e.target.src)\n                            e.target.style.display = 'none'\n                          }}\n                        />\n                      </div>\n                    )\n                  })()}\n                  <input\n                    type=\"text\"\n                    id=\"featured_image\"\n                    name=\"featured_image\"\n                    value={formData.featured_image}\n                    onChange={handleInputChange}\n                    className=\"form-input\"\n                    placeholder=\"Or enter featured image URL (optional)\"\n                    style={{ marginTop: '0.5rem' }}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-group\" style={{ display: 'flex', gap: '2rem', alignItems: 'center' }}>\n                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                  <input\n                    type=\"checkbox\"\n                    name=\"is_featured\"\n                    checked={formData.is_featured}\n                    onChange={handleInputChange}\n                  />\n                  Featured\n                </label>\n                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                  <input\n                    type=\"checkbox\"\n                    name=\"is_published\"\n                    checked={formData.is_published}\n                    onChange={handleInputChange}\n                  />\n                  Published\n                </label>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"meta_title\" className=\"form-label\">SEO Title</label>\n                <input\n                  type=\"text\"\n                  id=\"meta_title\"\n                  name=\"meta_title\"\n                  value={formData.meta_title}\n                  onChange={handleInputChange}\n                  className=\"form-input\"\n                  placeholder=\"SEO meta title\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"meta_description\" className=\"form-label\">SEO Description</label>\n                <textarea\n                  id=\"meta_description\"\n                  name=\"meta_description\"\n                  value={formData.meta_description}\n                  onChange={handleInputChange}\n                  className=\"form-textarea\"\n                  placeholder=\"SEO meta description\"\n                  rows=\"2\"\n                ></textarea>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"meta_keywords\" className=\"form-label\">SEO Keywords</label>\n                <input\n                  type=\"text\"\n                  id=\"meta_keywords\"\n                  name=\"meta_keywords\"\n                  value={formData.meta_keywords}\n                  onChange={handleInputChange}\n                  className=\"form-input\"\n                  placeholder=\"keyword1, keyword2, keyword3\"\n                />\n              </div>\n\n              <div className=\"form-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={submitting}>\n                  {submitting ? 'Saving...' : (editingBlog ? 'Update Blog' : 'Create Blog')}\n                </button>\n                {editingBlog && (\n                  <button \n                    type=\"button\" \n                    className=\"btn btn-secondary\"\n                    onClick={resetForm}\n                    disabled={submitting}\n                  >\n                    Cancel\n                  </button>\n                )}\n              </div>\n            </form>\n          </div>\n        </section>\n\n        {/* Category Management Section */}\n        <section className=\"admin-form-section\">\n          <div className=\"admin-form-panel\">\n            <h2 className=\"admin-form-title\">\n              {editingCategory ? 'Edit Category' : 'Create New Category'}\n            </h2>\n            \n            <form className=\"admin-form\" onSubmit={handleCategorySubmit}>\n              <div className=\"form-group\">\n                <label htmlFor=\"category_name\" className=\"form-label\">Category Name *</label>\n                <input\n                  type=\"text\"\n                  id=\"category_name\"\n                  name=\"name\"\n                  value={categoryFormData.name}\n                  onChange={handleCategoryInputChange}\n                  className=\"form-input\"\n                  placeholder=\"e.g., Sell\"\n                  required\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"category_slug\" className=\"form-label\">Slug *</label>\n                <input\n                  type=\"text\"\n                  id=\"category_slug\"\n                  name=\"slug\"\n                  value={categoryFormData.slug}\n                  onChange={handleCategoryInputChange}\n                  className=\"form-input\"\n                  placeholder=\"sell\"\n                  required\n                />\n                <small style={{ color: '#666', fontSize: '0.875rem' }}>URL-friendly version</small>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"category_icon\" className=\"form-label\">Icon (Emoji)</label>\n                <input\n                  type=\"text\"\n                  id=\"category_icon\"\n                  name=\"icon\"\n                  value={categoryFormData.icon}\n                  onChange={handleCategoryInputChange}\n                  className=\"form-input\"\n                  placeholder=\"ðŸ’°\"\n                  maxLength=\"10\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"category_description\" className=\"form-label\">Description</label>\n                <textarea\n                  id=\"category_description\"\n                  name=\"description\"\n                  value={categoryFormData.description}\n                  onChange={handleCategoryInputChange}\n                  className=\"form-textarea\"\n                  placeholder=\"Complete guides for property sellers\"\n                  rows=\"2\"\n                ></textarea>\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"category_display_order\" className=\"form-label\">Display Order</label>\n                <input\n                  type=\"number\"\n                  id=\"category_display_order\"\n                  name=\"display_order\"\n                  value={categoryFormData.display_order}\n                  onChange={handleCategoryInputChange}\n                  className=\"form-input\"\n                  placeholder=\"3\"\n                  min=\"0\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\n                  <input\n                    type=\"checkbox\"\n                    name=\"is_active\"\n                    checked={categoryFormData.is_active}\n                    onChange={handleCategoryInputChange}\n                  />\n                  Active\n                </label>\n              </div>\n\n              <div className=\"form-actions\">\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={submittingCategory}>\n                  {submittingCategory ? 'Saving...' : (editingCategory ? 'Update Category' : 'Create Category')}\n                </button>\n                {editingCategory && (\n                  <button \n                    type=\"button\" \n                    className=\"btn btn-secondary\"\n                    onClick={resetCategoryForm}\n                    disabled={submittingCategory}\n                  >\n                    Cancel\n                  </button>\n                )}\n              </div>\n            </form>\n          </div>\n        </section>\n\n        {/* Category List Section */}\n        <section className=\"admin-list-section\">\n          <div className=\"admin-list-header\">\n            <h2 className=\"admin-list-title\">All Categories ({categories.length})</h2>\n          </div>\n\n          {categories.length === 0 ? (\n            <div className=\"empty-state\">\n              <p>No categories found. Create your first category!</p>\n            </div>\n          ) : (\n            <div className=\"admin-blog-list\">\n              {categories.map(category => (\n                <div key={category.id} className=\"admin-blog-card\">\n                  <div className=\"admin-blog-content\">\n                    <div className=\"admin-blog-header\">\n                      <span className=\"admin-blog-category\">\n                        {category.icon && <span style={{ marginRight: '0.5rem' }}>{category.icon}</span>}\n                        {category.name}\n                      </span>\n                      <span className=\"admin-blog-date\">\n                        Order: {category.display_order} â€¢ {category.is_active ? 'Active' : 'Inactive'}\n                      </span>\n                    </div>\n                    <h3 className=\"admin-blog-title\">Slug: {category.slug}</h3>\n                    {category.description && (\n                      <p className=\"admin-blog-excerpt\">{category.description}</p>\n                    )}\n                    <div className=\"admin-blog-actions\">\n                      <button \n                        className=\"btn btn-edit\"\n                        onClick={() => handleCategoryEdit(category)}\n                      >\n                        Edit\n                      </button>\n                      <button \n                        className=\"btn btn-delete\"\n                        onClick={() => handleCategoryDelete(category.id)}\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </section>\n\n        {/* Blog List Section */}\n        <section className=\"admin-list-section\">\n          <div className=\"admin-list-header\">\n            <h2 className=\"admin-list-title\">All Blog Posts ({blogs.length})</h2>\n          </div>\n\n          {loading ? (\n            <div className=\"empty-state\">\n              <p>Loading blogs...</p>\n            </div>\n          ) : blogs.length === 0 ? (\n            <div className=\"empty-state\">\n              <p>No blogs found. Create your first blog post!</p>\n            </div>\n          ) : (\n            <div className=\"admin-blog-list\">\n              {blogs.map(blog => (\n                <div key={blog.id} className=\"admin-blog-card\">\n                  <div className=\"admin-blog-image\">\n                    <img src={blog.image_url || 'https://via.placeholder.com/300x200'} alt={blog.title} />\n                  </div>\n                  <div className=\"admin-blog-content\">\n                    <div className=\"admin-blog-header\">\n                      <span className=\"admin-blog-category\">{blog.category_name || 'Uncategorized'}</span>\n                      <span className=\"admin-blog-date\">\n                        {new Date(blog.created_at).toLocaleDateString()}\n                        {blog.is_published ? ' â€¢ Published' : ' â€¢ Draft'}\n                        {blog.is_featured && ' â€¢ Featured'}\n                      </span>\n                    </div>\n                    <h3 className=\"admin-blog-title\">{blog.title}</h3>\n                    <p className=\"admin-blog-excerpt\">{blog.excerpt || blog.content?.substring(0, 150)}...</p>\n                    <div className=\"admin-blog-actions\">\n                      <button \n                        className=\"btn btn-edit\"\n                        onClick={() => handleEdit(blog)}\n                      >\n                        Edit\n                      </button>\n                      <button \n                        className=\"btn btn-delete\"\n                        onClick={() => handleDelete(blog.id)}\n                      >\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </section>\n      </div>\n    </div>\n  )\n}\n\nexport default Admin\n"],"names":["navigate","useNavigate","blogs","setBlogs","useState","categories","setCategories","editingBlog","setEditingBlog","editingCategory","setEditingCategory","loading","setLoading","submitting","setSubmitting","submittingCategory","setSubmittingCategory","uploading","setUploading","image","featured","error","setError","success","setSuccess","username","setUsername","categoryFormData","setCategoryFormData","name","slug","icon","description","display_order","is_active","formData","setFormData","title","content","excerpt","category_id","image_url","featured_image","is_featured","is_published","meta_title","meta_description","meta_keywords","imagePreview","setImagePreview","useEffect","document","storedUsername","localStorage","getItem","fetchBlogs","fetchCategories","async","response","adminAPI","getAll","data","err","console","message","generateSlug","toLowerCase","trim","replace","handleInputChange","e","value","type","checked","target","_objectSpread","prev","handleImageUpload","arguments","length","undefined","file","files","match","size","reader","FileReader","onloadend","result","readAsDataURL","upload","url","fieldName","concat","setTimeout","getImageUrl","startsWith","API_BASE_URL","includes","resetForm","handleCategoryInputChange","resetCategoryForm","_jsxs","className","children","_jsx","style","display","alignItems","gap","color","fontSize","onClick","window","confirm","authAPI","logout","removeItem","padding","background","border","borderRadius","cursor","marginBottom","backgroundColor","onSubmit","preventDefault","update","id","create","htmlFor","onChange","placeholder","required","rows","map","cat","flexDirection","accept","disabled","previewUrl","marginTop","src","alt","maxWidth","maxHeight","objectFit","onError","maxLength","min","category","marginRight","scrollTo","top","behavior","handleCategoryEdit","delete","handleCategoryDelete","blog","_blog$content","category_name","Date","created_at","toLocaleDateString","substring","imageUrl","featuredUrl","handleEdit","handleDelete"],"ignoreList":[],"sourceRoot":""}
=======
{"version":3,"file":"static/js/831.122e7188.chunk.js","mappings":"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","sources":["pages/Admin.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { adminAPI, categoryAPI, authAPI } from '../services/api'\r\nimport { API_BASE_URL } from '../config/api'\r\nimport './Admin.css'\r\n\r\nfunction Admin() {\r\n  const navigate = useNavigate()\r\n  const [blogs, setBlogs] = useState([])\r\n  const [categories, setCategories] = useState([])\r\n  const [editingBlog, setEditingBlog] = useState(null)\r\n  const [editingCategory, setEditingCategory] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n  const [submitting, setSubmitting] = useState(false)\r\n  const [submittingCategory, setSubmittingCategory] = useState(false)\r\n  const [uploading, setUploading] = useState({ image: false, featured: false })\r\n  const [error, setError] = useState(null)\r\n  const [success, setSuccess] = useState(null)\r\n  const [username, setUsername] = useState('')\r\n  const [categoryFormData, setCategoryFormData] = useState({\r\n    name: '',\r\n    slug: '',\r\n    icon: '',\r\n    description: '',\r\n    display_order: 0,\r\n    is_active: true\r\n  })\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    slug: '',\r\n    content: '',\r\n    excerpt: '',\r\n    category_id: '',\r\n    image_url: '',\r\n    featured_image: '',\r\n    is_featured: false,\r\n    is_published: false,\r\n    meta_title: '',\r\n    meta_description: '',\r\n    meta_keywords: ''\r\n  })\r\n  const [imagePreview, setImagePreview] = useState({ image: null, featured: null })\r\n\r\n  useEffect(() => {\r\n    document.title = 'Admin Panel - Blog Management'\r\n    const storedUsername = localStorage.getItem('admin_username')\r\n    if (storedUsername) {\r\n      setUsername(storedUsername)\r\n    }\r\n    fetchBlogs()\r\n    fetchCategories()\r\n  }, [])\r\n\r\n  const handleLogout = async () => {\r\n    if (window.confirm('Are you sure you want to logout?')) {\r\n      try {\r\n        await authAPI.logout()\r\n        navigate('/vedantlights/login')\r\n      } catch (err) {\r\n        // Even if logout fails, clear local storage and redirect\r\n        localStorage.removeItem('admin_authenticated')\r\n        localStorage.removeItem('admin_username')\r\n        navigate('/vedantlights/login')\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  const fetchBlogs = async () => {\r\n    try {\r\n      setLoading(true)\r\n      const response = await adminAPI.blogs.getAll()\r\n      if (response.success) {\r\n        setBlogs(response.data || [])\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching blogs:', err)\r\n      setError(err.message || 'Failed to load blogs')\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  const fetchCategories = async () => {\r\n    try {\r\n      const response = await adminAPI.categories.getAll()\r\n      if (response.success) {\r\n        setCategories(response.data || [])\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching categories:', err)\r\n    }\r\n  }\r\n\r\n  // Generate slug from title\r\n  const generateSlug = (title) => {\r\n    return title\r\n      .toLowerCase()\r\n      .trim()\r\n      .replace(/[^\\w\\s-]/g, '')\r\n      .replace(/[\\s_-]+/g, '-')\r\n      .replace(/^-+|-+$/g, '')\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target\r\n    setFormData({\r\n      ...formData,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    })\r\n    \r\n    // Auto-generate slug from title\r\n    if (name === 'title' && !editingBlog) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        slug: generateSlug(value)\r\n      }))\r\n    }\r\n    \r\n    // Clear messages\r\n    if (error) setError(null)\r\n    if (success) setSuccess(null)\r\n  }\r\n\r\n  const handleImageUpload = async (e, type = 'image') => {\r\n    const file = e.target.files[0]\r\n    if (!file) return\r\n\r\n    // Validate file type\r\n    if (!file.type.match('image.*')) {\r\n      setError('Please select an image file')\r\n      return\r\n    }\r\n\r\n    // Validate file size (5MB)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setError('Image size must be less than 5MB')\r\n      return\r\n    }\r\n\r\n    try {\r\n      setUploading(prev => ({ ...prev, [type]: true }))\r\n      setError(null)\r\n\r\n      // Create preview\r\n      const reader = new FileReader()\r\n      reader.onloadend = () => {\r\n        setImagePreview(prev => ({ ...prev, [type]: reader.result }))\r\n      }\r\n      reader.readAsDataURL(file)\r\n\r\n      // Upload file\r\n      const response = await adminAPI.upload.image(file)\r\n      \r\n      if (response.success && response.data && response.data.url) {\r\n        const fieldName = type === 'image' ? 'image_url' : 'featured_image'\r\n        setFormData(prev => ({\r\n          ...prev,\r\n          [fieldName]: response.data.url\r\n        }))\r\n        setSuccess(`${type === 'image' ? 'Image' : 'Featured image'} uploaded successfully!`)\r\n        setTimeout(() => setSuccess(null), 3000)\r\n      } else {\r\n        // Clear preview on failure\r\n        setImagePreview(prev => ({ ...prev, [type]: null }))\r\n        setError(response.message || 'Failed to upload image. Please try again or enter a URL manually.')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error uploading image:', err)\r\n      // Clear preview on error\r\n      setImagePreview(prev => ({ ...prev, [type]: null }))\r\n      setError(err.message || 'Failed to upload image. Please try again or enter a URL manually.')\r\n    } finally {\r\n      setUploading(prev => ({ ...prev, [type]: false }))\r\n    }\r\n  }\r\n\r\n  const getImageUrl = (url) => {\r\n    if (!url) return null\r\n    // If it's already a full URL, return as is\r\n    if (url.startsWith('http://') || url.startsWith('https://')) {\r\n      return url\r\n    }\r\n    // If it's a relative path starting with /backend, construct full URL\r\n    if (url.startsWith('/backend/')) {\r\n      // Extract base URL from API_BASE_URL (e.g., https://blogs.indiapropertys.com)\r\n      const baseUrl = API_BASE_URL.replace('/backend/api', '')\r\n      return baseUrl + url\r\n    }\r\n    // If it's a relative path starting with /, prepend base URL\r\n    if (url.startsWith('/')) {\r\n      const baseUrl = API_BASE_URL.replace('/api', '')\r\n      return baseUrl + url\r\n    }\r\n    // If it's a relative path without leading slash, add it\r\n    if (url.includes('uploads/')) {\r\n      const baseUrl = API_BASE_URL.replace('/api', '')\r\n      return baseUrl + '/' + url\r\n    }\r\n    return url\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setSubmitting(true)\r\n    setError(null)\r\n    setSuccess(null)\r\n\r\n    try {\r\n      let response\r\n      if (editingBlog) {\r\n        // Update existing blog\r\n        response = await adminAPI.blogs.update(editingBlog.id, formData)\r\n      } else {\r\n        // Create new blog\r\n        response = await adminAPI.blogs.create(formData)\r\n      }\r\n\r\n      if (response.success) {\r\n        setSuccess(editingBlog ? 'Blog updated successfully!' : 'Blog created successfully!')\r\n        resetForm()\r\n        fetchBlogs() // Refresh list\r\n        setTimeout(() => setSuccess(null), 3000)\r\n      } else {\r\n        setError(response.message || 'Operation failed')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error saving blog:', err)\r\n      setError(err.message || 'Failed to save blog')\r\n    } finally {\r\n      setSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleEdit = (blog) => {\r\n    setEditingBlog(blog)\r\n    setFormData({\r\n      title: blog.title || '',\r\n      slug: blog.slug || '',\r\n      content: blog.content || '',\r\n      excerpt: blog.excerpt || '',\r\n      category_id: blog.category_id || '',\r\n      image_url: blog.image_url || '',\r\n      featured_image: blog.featured_image || '',\r\n      is_featured: blog.is_featured || false,\r\n      is_published: blog.is_published || false,\r\n      meta_title: blog.meta_title || '',\r\n      meta_description: blog.meta_description || '',\r\n      meta_keywords: blog.meta_keywords || ''\r\n    })\r\n    // Set preview images - ensure URLs are properly formatted\r\n    const imageUrl = blog.image_url ? getImageUrl(blog.image_url) : null\r\n    const featuredUrl = blog.featured_image ? getImageUrl(blog.featured_image) : null\r\n    \r\n    // Set preview immediately\r\n    setImagePreview({\r\n      image: imageUrl,\r\n      featured: featuredUrl\r\n    })\r\n    window.scrollTo({ top: 0, behavior: 'smooth' })\r\n  }\r\n\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this blog?')) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const response = await adminAPI.blogs.delete(id)\r\n      if (response.success) {\r\n        setSuccess('Blog deleted successfully!')\r\n        if (editingBlog && editingBlog.id === id) {\r\n          resetForm()\r\n        }\r\n        fetchBlogs() // Refresh list\r\n        setTimeout(() => setSuccess(null), 3000)\r\n      } else {\r\n        setError(response.message || 'Failed to delete blog')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting blog:', err)\r\n      setError(err.message || 'Failed to delete blog')\r\n    }\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setEditingBlog(null)\r\n    setFormData({\r\n      title: '',\r\n      slug: '',\r\n      content: '',\r\n      excerpt: '',\r\n      category_id: '',\r\n      image_url: '',\r\n      featured_image: '',\r\n      is_featured: false,\r\n      is_published: false,\r\n      meta_title: '',\r\n      meta_description: '',\r\n      meta_keywords: ''\r\n    })\r\n    setImagePreview({ image: null, featured: null })\r\n  }\r\n\r\n  const handleCategoryInputChange = (e) => {\r\n    const { name, value, type, checked } = e.target\r\n    setCategoryFormData({\r\n      ...categoryFormData,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    })\r\n    \r\n    // Auto-generate slug from name\r\n    if (name === 'name' && !editingCategory) {\r\n      setCategoryFormData(prev => ({\r\n        ...prev,\r\n        slug: generateSlug(value)\r\n      }))\r\n    }\r\n    \r\n    // Clear messages\r\n    if (error) setError(null)\r\n    if (success) setSuccess(null)\r\n  }\r\n\r\n  const handleCategorySubmit = async (e) => {\r\n    e.preventDefault()\r\n    setSubmittingCategory(true)\r\n    setError(null)\r\n    setSuccess(null)\r\n\r\n    try {\r\n      let response\r\n      if (editingCategory) {\r\n        response = await adminAPI.categories.update(editingCategory.id, categoryFormData)\r\n      } else {\r\n        response = await adminAPI.categories.create(categoryFormData)\r\n      }\r\n\r\n      if (response.success) {\r\n        setSuccess(editingCategory ? 'Category updated successfully!' : 'Category created successfully!')\r\n        resetCategoryForm()\r\n        fetchCategories() // Refresh list\r\n        setTimeout(() => setSuccess(null), 3000)\r\n      } else {\r\n        setError(response.message || 'Operation failed')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error saving category:', err)\r\n      setError(err.message || 'Failed to save category')\r\n    } finally {\r\n      setSubmittingCategory(false)\r\n    }\r\n  }\r\n\r\n  const handleCategoryEdit = (category) => {\r\n    setEditingCategory(category)\r\n    setCategoryFormData({\r\n      name: category.name || '',\r\n      slug: category.slug || '',\r\n      icon: category.icon || '',\r\n      description: category.description || '',\r\n      display_order: category.display_order || 0,\r\n      is_active: category.is_active !== undefined ? category.is_active : true\r\n    })\r\n    window.scrollTo({ top: 0, behavior: 'smooth' })\r\n  }\r\n\r\n  const handleCategoryDelete = async (id) => {\r\n    if (!window.confirm('Are you sure you want to delete this category?')) {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const response = await adminAPI.categories.delete(id)\r\n      if (response.success) {\r\n        setSuccess('Category deleted successfully!')\r\n        if (editingCategory && editingCategory.id === id) {\r\n          resetCategoryForm()\r\n        }\r\n        fetchCategories() // Refresh list\r\n        setTimeout(() => setSuccess(null), 3000)\r\n      } else {\r\n        setError(response.message || 'Failed to delete category')\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting category:', err)\r\n      setError(err.message || 'Failed to delete category')\r\n    }\r\n  }\r\n\r\n  const resetCategoryForm = () => {\r\n    setEditingCategory(null)\r\n    setCategoryFormData({\r\n      name: '',\r\n      slug: '',\r\n      icon: '',\r\n      description: '',\r\n      display_order: 0,\r\n      is_active: true\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-container\">\r\n      <div className=\"admin-header\">\r\n        <div>\r\n          <h1 className=\"admin-title\">Blog Management Panel</h1>\r\n          <p className=\"admin-subtitle\">Create, edit, and manage your blog posts</p>\r\n        </div>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\r\n          {username && (\r\n            <span style={{ color: '#666', fontSize: '0.9rem' }}>\r\n              Welcome, <strong>{username}</strong>\r\n            </span>\r\n          )}\r\n          <button \r\n            onClick={handleLogout}\r\n            style={{\r\n              padding: '0.5rem 1rem',\r\n              background: '#dc3545',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer',\r\n              fontSize: '0.9rem'\r\n            }}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"admin-content\">\r\n        {/* Blog Form Section */}\r\n        <section className=\"admin-form-section\">\r\n          <div className=\"admin-form-panel\">\r\n            <h2 className=\"admin-form-title\">\r\n              {editingBlog ? 'Edit Blog Post' : 'Create New Blog Post'}\r\n            </h2>\r\n            \r\n            {success && (\r\n              <div style={{ padding: '0.75rem', marginBottom: '1rem', backgroundColor: '#d4edda', color: '#155724', borderRadius: '4px' }}>\r\n                {success}\r\n              </div>\r\n            )}\r\n            \r\n            {error && (\r\n              <div style={{ padding: '0.75rem', marginBottom: '1rem', backgroundColor: '#f8d7da', color: '#721c24', borderRadius: '4px' }}>\r\n                {error}\r\n              </div>\r\n            )}\r\n            \r\n            <form className=\"admin-form\" onSubmit={handleSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"title\" className=\"form-label\">Title *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"title\"\r\n                  name=\"title\"\r\n                  value={formData.title}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"Enter blog title\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"slug\" className=\"form-label\">Slug *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"slug\"\r\n                  name=\"slug\"\r\n                  value={formData.slug}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"blog-slug-url\"\r\n                  required\r\n                />\r\n                <small style={{ color: '#666', fontSize: '0.875rem' }}>URL-friendly version of title</small>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"content\" className=\"form-label\">Content *</label>\r\n                <textarea\r\n                  id=\"content\"\r\n                  name=\"content\"\r\n                  value={formData.content}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-textarea\"\r\n                  placeholder=\"Enter blog content\"\r\n                  rows=\"8\"\r\n                  required\r\n                ></textarea>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"excerpt\" className=\"form-label\">Excerpt</label>\r\n                <textarea\r\n                  id=\"excerpt\"\r\n                  name=\"excerpt\"\r\n                  value={formData.excerpt}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-textarea\"\r\n                  placeholder=\"Short description (used in listings)\"\r\n                  rows=\"3\"\r\n                ></textarea>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category_id\" className=\"form-label\">Category</label>\r\n                <select\r\n                  id=\"category_id\"\r\n                  name=\"category_id\"\r\n                  value={formData.category_id}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-select\"\r\n                >\r\n                  <option value=\"\">Select Category</option>\r\n                  {categories.map(cat => (\r\n                    <option key={cat.id} value={cat.id}>{cat.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"image_upload\" className=\"form-label\">Blog Image</label>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"image_upload\"\r\n                    accept=\"image/*\"\r\n                    onChange={(e) => handleImageUpload(e, 'image')}\r\n                    disabled={uploading.image}\r\n                    style={{ marginBottom: '0.5rem' }}\r\n                  />\r\n                  {uploading.image && <small>Uploading...</small>}\r\n                  {(() => {\r\n                    const previewUrl = imagePreview.image || (formData.image_url ? getImageUrl(formData.image_url) : null)\r\n                    return previewUrl && (\r\n                      <div style={{ marginTop: '0.5rem' }}>\r\n                        <img \r\n                          src={previewUrl} \r\n                          alt=\"Preview\" \r\n                          style={{ maxWidth: '300px', maxHeight: '200px', objectFit: 'cover', borderRadius: '4px', border: '1px solid #ddd' }}\r\n                          onError={(e) => {\r\n                            console.error('Image failed to load:', e.target.src)\r\n                            e.target.style.display = 'none'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    )\r\n                  })()}\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"image_url\"\r\n                    name=\"image_url\"\r\n                    value={formData.image_url}\r\n                    onChange={handleInputChange}\r\n                    className=\"form-input\"\r\n                    placeholder=\"Or enter image URL (optional)\"\r\n                    style={{ marginTop: '0.5rem' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"featured_image_upload\" className=\"form-label\">Featured Image</label>\r\n                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.5rem' }}>\r\n                  <input\r\n                    type=\"file\"\r\n                    id=\"featured_image_upload\"\r\n                    accept=\"image/*\"\r\n                    onChange={(e) => handleImageUpload(e, 'featured')}\r\n                    disabled={uploading.featured}\r\n                    style={{ marginBottom: '0.5rem' }}\r\n                  />\r\n                  {uploading.featured && <small>Uploading...</small>}\r\n                  {(() => {\r\n                    const previewUrl = imagePreview.featured || (formData.featured_image ? getImageUrl(formData.featured_image) : null)\r\n                    return previewUrl && (\r\n                      <div style={{ marginTop: '0.5rem' }}>\r\n                        <img \r\n                          src={previewUrl} \r\n                          alt=\"Preview\" \r\n                          style={{ maxWidth: '300px', maxHeight: '200px', objectFit: 'cover', borderRadius: '4px', border: '1px solid #ddd' }}\r\n                          onError={(e) => {\r\n                            console.error('Featured image failed to load:', e.target.src)\r\n                            e.target.style.display = 'none'\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    )\r\n                  })()}\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"featured_image\"\r\n                    name=\"featured_image\"\r\n                    value={formData.featured_image}\r\n                    onChange={handleInputChange}\r\n                    className=\"form-input\"\r\n                    placeholder=\"Or enter featured image URL (optional)\"\r\n                    style={{ marginTop: '0.5rem' }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\" style={{ display: 'flex', gap: '2rem', alignItems: 'center' }}>\r\n                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"is_featured\"\r\n                    checked={formData.is_featured}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  Featured\r\n                </label>\r\n                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"is_published\"\r\n                    checked={formData.is_published}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                  Published\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"meta_title\" className=\"form-label\">SEO Title</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"meta_title\"\r\n                  name=\"meta_title\"\r\n                  value={formData.meta_title}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"SEO meta title\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"meta_description\" className=\"form-label\">SEO Description</label>\r\n                <textarea\r\n                  id=\"meta_description\"\r\n                  name=\"meta_description\"\r\n                  value={formData.meta_description}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-textarea\"\r\n                  placeholder=\"SEO meta description\"\r\n                  rows=\"2\"\r\n                ></textarea>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"meta_keywords\" className=\"form-label\">SEO Keywords</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"meta_keywords\"\r\n                  name=\"meta_keywords\"\r\n                  value={formData.meta_keywords}\r\n                  onChange={handleInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"keyword1, keyword2, keyword3\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-actions\">\r\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={submitting}>\r\n                  {submitting ? 'Saving...' : (editingBlog ? 'Update Blog' : 'Create Blog')}\r\n                </button>\r\n                {editingBlog && (\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-secondary\"\r\n                    onClick={resetForm}\r\n                    disabled={submitting}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Category Management Section */}\r\n        <section className=\"admin-form-section\">\r\n          <div className=\"admin-form-panel\">\r\n            <h2 className=\"admin-form-title\">\r\n              {editingCategory ? 'Edit Category' : 'Create New Category'}\r\n            </h2>\r\n            \r\n            <form className=\"admin-form\" onSubmit={handleCategorySubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category_name\" className=\"form-label\">Category Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"category_name\"\r\n                  name=\"name\"\r\n                  value={categoryFormData.name}\r\n                  onChange={handleCategoryInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"e.g., Sell\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category_slug\" className=\"form-label\">Slug *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"category_slug\"\r\n                  name=\"slug\"\r\n                  value={categoryFormData.slug}\r\n                  onChange={handleCategoryInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"sell\"\r\n                  required\r\n                />\r\n                <small style={{ color: '#666', fontSize: '0.875rem' }}>URL-friendly version</small>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category_icon\" className=\"form-label\">Icon (Emoji)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"category_icon\"\r\n                  name=\"icon\"\r\n                  value={categoryFormData.icon}\r\n                  onChange={handleCategoryInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"ðŸ’°\"\r\n                  maxLength=\"10\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category_description\" className=\"form-label\">Description</label>\r\n                <textarea\r\n                  id=\"category_description\"\r\n                  name=\"description\"\r\n                  value={categoryFormData.description}\r\n                  onChange={handleCategoryInputChange}\r\n                  className=\"form-textarea\"\r\n                  placeholder=\"Complete guides for property sellers\"\r\n                  rows=\"2\"\r\n                ></textarea>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"category_display_order\" className=\"form-label\">Display Order</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"category_display_order\"\r\n                  name=\"display_order\"\r\n                  value={categoryFormData.display_order}\r\n                  onChange={handleCategoryInputChange}\r\n                  className=\"form-input\"\r\n                  placeholder=\"3\"\r\n                  min=\"0\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label style={{ display: 'flex', alignItems: 'center', gap: '0.5rem' }}>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    name=\"is_active\"\r\n                    checked={categoryFormData.is_active}\r\n                    onChange={handleCategoryInputChange}\r\n                  />\r\n                  Active\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"form-actions\">\r\n                <button type=\"submit\" className=\"btn btn-primary\" disabled={submittingCategory}>\r\n                  {submittingCategory ? 'Saving...' : (editingCategory ? 'Update Category' : 'Create Category')}\r\n                </button>\r\n                {editingCategory && (\r\n                  <button \r\n                    type=\"button\" \r\n                    className=\"btn btn-secondary\"\r\n                    onClick={resetCategoryForm}\r\n                    disabled={submittingCategory}\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Category List Section */}\r\n        <section className=\"admin-list-section\">\r\n          <div className=\"admin-list-header\">\r\n            <h2 className=\"admin-list-title\">All Categories ({categories.length})</h2>\r\n          </div>\r\n\r\n          {categories.length === 0 ? (\r\n            <div className=\"empty-state\">\r\n              <p>No categories found. Create your first category!</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"admin-blog-list\">\r\n              {categories.map(category => (\r\n                <div key={category.id} className=\"admin-blog-card\">\r\n                  <div className=\"admin-blog-content\">\r\n                    <div className=\"admin-blog-header\">\r\n                      <span className=\"admin-blog-category\">\r\n                        {category.icon && <span style={{ marginRight: '0.5rem' }}>{category.icon}</span>}\r\n                        {category.name}\r\n                      </span>\r\n                      <span className=\"admin-blog-date\">\r\n                        Order: {category.display_order} â€¢ {category.is_active ? 'Active' : 'Inactive'}\r\n                      </span>\r\n                    </div>\r\n                    <h3 className=\"admin-blog-title\">Slug: {category.slug}</h3>\r\n                    {category.description && (\r\n                      <p className=\"admin-blog-excerpt\">{category.description}</p>\r\n                    )}\r\n                    <div className=\"admin-blog-actions\">\r\n                      <button \r\n                        className=\"btn btn-edit\"\r\n                        onClick={() => handleCategoryEdit(category)}\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                      <button \r\n                        className=\"btn btn-delete\"\r\n                        onClick={() => handleCategoryDelete(category.id)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        {/* Blog List Section */}\r\n        <section className=\"admin-list-section\">\r\n          <div className=\"admin-list-header\">\r\n            <h2 className=\"admin-list-title\">All Blog Posts ({blogs.length})</h2>\r\n          </div>\r\n\r\n          {loading ? (\r\n            <div className=\"empty-state\">\r\n              <p>Loading blogs...</p>\r\n            </div>\r\n          ) : blogs.length === 0 ? (\r\n            <div className=\"empty-state\">\r\n              <p>No blogs found. Create your first blog post!</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"admin-blog-list\">\r\n              {blogs.map(blog => (\r\n                <div key={blog.id} className=\"admin-blog-card\">\r\n                  <div className=\"admin-blog-image\">\r\n                    <img src={blog.image_url || 'https://via.placeholder.com/300x200'} alt={blog.title} />\r\n                  </div>\r\n                  <div className=\"admin-blog-content\">\r\n                    <div className=\"admin-blog-header\">\r\n                      <span className=\"admin-blog-category\">{blog.category_name || 'Uncategorized'}</span>\r\n                      <span className=\"admin-blog-date\">\r\n                        {new Date(blog.created_at).toLocaleDateString()}\r\n                        {blog.is_published ? ' â€¢ Published' : ' â€¢ Draft'}\r\n                        {blog.is_featured && ' â€¢ Featured'}\r\n                      </span>\r\n                    </div>\r\n                    <h3 className=\"admin-blog-title\">{blog.title}</h3>\r\n                    <p className=\"admin-blog-excerpt\">{blog.excerpt || blog.content?.substring(0, 150)}...</p>\r\n                    <div className=\"admin-blog-actions\">\r\n                      <button \r\n                        className=\"btn btn-edit\"\r\n                        onClick={() => handleEdit(blog)}\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                      <button \r\n                        className=\"btn btn-delete\"\r\n                        onClick={() => handleDelete(blog.id)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Admin\r\n"],"names":["navigate","useNavigate","blogs","setBlogs","useState","categories","setCategories","editingBlog","setEditingBlog","editingCategory","setEditingCategory","loading","setLoading","submitting","setSubmitting","submittingCategory","setSubmittingCategory","uploading","setUploading","image","featured","error","setError","success","setSuccess","username","setUsername","categoryFormData","setCategoryFormData","name","slug","icon","description","display_order","is_active","formData","setFormData","title","content","excerpt","category_id","image_url","featured_image","is_featured","is_published","meta_title","meta_description","meta_keywords","imagePreview","setImagePreview","useEffect","document","storedUsername","localStorage","getItem","fetchBlogs","fetchCategories","async","response","adminAPI","getAll","data","err","console","message","generateSlug","toLowerCase","trim","replace","handleInputChange","e","value","type","checked","target","_objectSpread","prev","handleImageUpload","arguments","length","undefined","file","files","match","size","reader","FileReader","onloadend","result","readAsDataURL","upload","url","fieldName","concat","setTimeout","getImageUrl","startsWith","API_BASE_URL","includes","resetForm","handleCategoryInputChange","resetCategoryForm","_jsxs","className","children","_jsx","style","display","alignItems","gap","color","fontSize","onClick","window","confirm","authAPI","logout","removeItem","padding","background","border","borderRadius","cursor","marginBottom","backgroundColor","onSubmit","preventDefault","update","id","create","htmlFor","onChange","placeholder","required","rows","map","cat","flexDirection","accept","disabled","previewUrl","marginTop","src","alt","maxWidth","maxHeight","objectFit","onError","maxLength","min","category","marginRight","scrollTo","top","behavior","handleCategoryEdit","delete","handleCategoryDelete","blog","_blog$content","category_name","Date","created_at","toLocaleDateString","substring","imageUrl","featuredUrl","handleEdit","handleDelete"],"ignoreList":[],"sourceRoot":""}
>>>>>>> Stashed changes
